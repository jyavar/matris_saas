---
title: Animated List
description: A sophisticated animation component that creates dynamic column-based transitions with scaling effects. Perfect for showcasing notifications, messages, or any sequential content with smooth formation, scrolling, and reset animations.
---

<ComponentPreview
  name="animated-list-demo"
  className="[&_.preview>[data-orientation=vertical]]:sm:max-w-[70%] overflow-hidden"
  description="A dynamic and customizable sliding marquee"
>
  <Highlighter slot="javascript">
    ```jsx
    import { AnimatedList } from "@/components/ui/animated-list";

    export function Notification({ notification }) {
      return (
        <div className="w-full max-w-[350px] bg-white dark:bg-neutral-950 shadow-xl shadow-neutral-200 dark:shadow-neutral-950/70 rounded-2xl p-3.5 flex items-center gap-4 justify-between border border-neutral-50 dark:border-neutral-900">
          <img
            src={notification.icon}
            alt={notification.name}
            className="w-10 h-10"
          />
          <div className="flex flex-col w-full">
            <div className="flex w-full justify-between items-start">
              <span className="font-medium text-sm">{notification.name}</span>
              <span className="text-xs text-neutral-400">
                {notification.timeAgo}
              </span>
            </div>
            <span className="text-sm text-neutral-600 dark:text-neutral-400">
              {notification.message}
            </span>
          </div>
        </div>
      );
    }

    export default function AnimatedListDemo() {
      const notifications = [
        {
          id: 1,
          name: "Location",
          message: "Thomas has arrived home",
          timeAgo: "2h ago",
          icon: "https://cdn.badtz-ui.com/components/notification-icons/icon-1.png",
        },
        {
          id: 2,
          name: "Fitness Tracker",
          message: "You've reached your daily step goal!",
          timeAgo: "1h ago",
          icon: "https://cdn.badtz-ui.com/components/notification-icons/icon-2.png",
        },
        {
          id: 3,
          name: "Calendar",
          message: "Meeting with team in 30 minutes",
          timeAgo: "45m ago",
          icon: "https://cdn.badtz-ui.com/components/notification-icons/icon-3.png",
        },
        {
          id: 4,
          name: "Task Manager",
          message: "3 tasks due today",
          timeAgo: "1d ago",
          icon: "https://cdn.badtz-ui.com/components/notification-icons/icon-4.png",
        },
        {
          id: 5,
          name: "Health",
          message: "Your heart rate is elevated.",
          timeAgo: "3h ago",
          icon: "https://cdn.badtz-ui.com/components/notification-icons/icon-5.png",
        },
        {
          id: 6,
          name: "Email",
          message: "New message from your manager",
          timeAgo: "5m ago",
          icon: "https://cdn.badtz-ui.com/components/notification-icons/icon-6.png",
        },
        {
          id: 7,
          name: "TikTok",
          message: "Your video got 1000 likes!",
          timeAgo: "2d ago",
          icon: "https://cdn.badtz-ui.com/components/notification-icons/icon-7.png",
        },
        {
          id: 8,
          name: "Grandpa",
          message: "How are you doing, my dear?",
          timeAgo: "1w ago",
          icon: "https://cdn.badtz-ui.com/components/notification-icons/icon-8.png",
        },
        {
          id: 9,
          name: "Clara",
          message: "Let's meet for coffee tomorrow!",
          timeAgo: "2d ago",
          icon: "https://cdn.badtz-ui.com/components/notification-icons/icon-9.png",
        },
        {
          id: 10,
          name: "Sarah",
          message: "Did you see the new movie?",
          timeAgo: "4h ago",
          icon: "https://cdn.badtz-ui.com/components/notification-icons/icon-10.png",
        },
      ];

      return (
        <AnimatedList
          stackGap={20}
          columnGap={85}
          scaleFactor={0.05}
          scrollDownDuration={5}
          formationDuration={1}
        >
          {notifications.map((notification) => (
            <Notification key={notification.id} notification={notification} />
          ))}
        </AnimatedList>
      );
    }
    ```
  </Highlighter>
  <Highlighter slot="typescript">
    ```tsx
    import { AnimatedList } from "@/components/ui/animated-list";

    interface NotificationData {
      id: number;
      name: string;
      message: string;
      timeAgo: string;
      icon: string;
    }

    type NotificationProps = {
      notification: NotificationData;
    };

    export function Notification({ notification }: NotificationProps) {
      return (
        <div className="w-full max-w-[350px] bg-white dark:bg-neutral-950 shadow-xl shadow-neutral-200 dark:shadow-neutral-950/70 rounded-2xl p-3.5 flex items-center gap-4 justify-between border border-neutral-50 dark:border-neutral-900">
          <img
            src={notification.icon}
            alt={notification.name}
            className="w-10 h-10"
          />
          <div className="flex flex-col w-full">
            <div className="flex w-full justify-between items-start">
              <span className="font-medium text-sm">{notification.name}</span>
              <span className="text-xs text-neutral-400">
                {notification.timeAgo}
              </span>
            </div>
            <span className="text-sm text-neutral-600 dark:text-neutral-400">
              {notification.message}
            </span>
          </div>
        </div>
      );
    }

    export default function AnimatedListDemo() {    
      const notifications: NotificationData[] = [
        {
          id: 1,
          name: "Location",
          message: "Thomas has arrived home",
          timeAgo: "2h ago",
          icon: "https://cdn.badtz-ui.com/components/notification-icons/icon-1.png",
        },
        {
          id: 2,
          name: "Fitness Tracker",
          message: "You've reached your daily step goal!",
          timeAgo: "1h ago",
          icon: "https://cdn.badtz-ui.com/components/notification-icons/icon-2.png",
        },
        {
          id: 3,
          name: "Calendar",
          message: "Meeting with team in 30 minutes",
          timeAgo: "45m ago",
          icon: "https://cdn.badtz-ui.com/components/notification-icons/icon-3.png",
        },
        {
          id: 4,
          name: "Task Manager",
          message: "3 tasks due today",
          timeAgo: "1d ago",
          icon: "https://cdn.badtz-ui.com/components/notification-icons/icon-4.png",
        },
        {
          id: 5,
          name: "Health",
          message: "Your heart rate is elevated.",
          timeAgo: "3h ago",
          icon: "https://cdn.badtz-ui.com/components/notification-icons/icon-5.png",
        },
        {
          id: 6,
          name: "Email",
          message: "New message from your manager",
          timeAgo: "5m ago",
          icon: "https://cdn.badtz-ui.com/components/notification-icons/icon-6.png",
        },
        {
          id: 7,
          name: "TikTok",
          message: "Your video got 1000 likes!",
          timeAgo: "2d ago",
          icon: "https://cdn.badtz-ui.com/components/notification-icons/icon-7.png",
        },
        {
          id: 8,
          name: "Grandpa",
          message: "How are you doing, my dear?",
          timeAgo: "1w ago",
          icon: "https://cdn.badtz-ui.com/components/notification-icons/icon-8.png",
        },
        {
          id: 9,
          name: "Clara",
          message: "Let's meet for coffee tomorrow!",
          timeAgo: "2d ago",
          icon: "https://cdn.badtz-ui.com/components/notification-icons/icon-9.png",
        },
        {
          id: 10,
          name: "Sarah",
          message: "Did you see the new movie?",
          timeAgo: "4h ago",
          icon: "https://cdn.badtz-ui.com/components/notification-icons/icon-10.png",
        },
      ];

      return (
        <AnimatedList
          stackGap={20}
          columnGap={85}
          scaleFactor={0.05}
          scrollDownDuration={5}
          formationDuration={1}
        >
          {notifications.map((notification) => (
            <Notification key={notification.id} notification={notification} />
          ))}
        </AnimatedList>
      );
    }
    ```
  </Highlighter>
</ComponentPreview>

## Installation

<Tabs defaultValue="cli">
  <TabsList>
    <TabsTrigger value="cli">CLI</TabsTrigger>
    <TabsTrigger value="manual">Manual</TabsTrigger>
  </TabsList>

  <TabsContent value="cli">
    ```bash
    npx shadcn@latest add https://badtz-ui.com/r/animated-list.json
    ```
  </TabsContent>

  <TabsContent value="manual">
    <Steps>
      <Step>Install the following dependencies:</Step>

      ```bash
      npm install clsx tailwind-merge framer-motion
      ```

      <Step>Add the <Kbd>utils</Kbd> file to the <Kbd>@/lib</Kbd> folder</Step>

      <UtilsSource>
        <Highlighter slot="javascript">
          ```jsx
          import { clsx } from "clsx";
          import { twMerge } from "tailwind-merge";

          export function cn(...inputs) {
            return twMerge(clsx(inputs));
          }
          ```
        </Highlighter>
        <Highlighter slot="typescript">
          ```tsx
          import { ClassValue, clsx } from "clsx";
          import { twMerge } from "tailwind-merge";

          export function cn(...inputs: ClassValue[]) {
            return twMerge(clsx(inputs));
          }
          ```
        </Highlighter>
      </UtilsSource>

      <Step>Copy and paste the <Kbd>animated-list</Kbd> code into your project.</Step>

      <ComponentSource name="animated-list">
        <Highlighter slot="javascript">
          ```jsx
          "use client";

          import React, { useMemo, useState, useEffect } from "react";
          import { motion, AnimatePresence, useAnimationControls } from "framer-motion";
          import { cn } from "@/lib/utils";

          function InternalAnimatedListItem({
            children,
            className,
            index,
            listLength,
            animationPhase,
            onFormationComplete,
            stackGap = 10,
            columnGap = 100,
            scaleFactor = 0.1,
            formationDuration = 1,
            visibleItemsCount = 4,
            resetSpringStiffness = 120,
            resetSpringDamping = 20,
          }) {
            const reverseIndex = listLength - 1 - index;
            const isVisible = reverseIndex < visibleItemsCount;
            const lastItemOffset = (listLength - 1) * columnGap;
            const isLastItem = index === listLength - 1;

            const itemVariants = {
              initial: {
                scale: 1 + index * scaleFactor,
                y: reverseIndex * stackGap,
                opacity: isVisible ? 1 : 0,
              },
              column: {
                scale: 1,
                y: index * columnGap - lastItemOffset,
                opacity: 1,
              },
            };

            const target =
              animationPhase === "idle" || animationPhase === "resetting"
                ? "initial"
                : "column";

            const getTransition = () => {
              if (animationPhase === "resetting") {
                return {
                  type: "spring",
                  stiffness: resetSpringStiffness,
                  damping: resetSpringDamping,
                };
              } else {
                return { duration: formationDuration, ease: [0.4, 0, 0.2, 1] };
              }
            };

            const handleAnimationComplete = (definition) => {
              if (
                isLastItem &&
                definition === "column" &&
                animationPhase === "forming_column"
              ) {
                onFormationComplete?.();
              }
            };

            return (
              <motion.div
                key={index}
                className={cn("w-full flex justify-center absolute inset-x-0", className)}
                variants={itemVariants}
                initial="initial"
                animate={target}
                transition={getTransition()}
                onAnimationComplete={handleAnimationComplete}
              >
                {children}
              </motion.div>
            );
          }

          export function AnimatedList({
            children,
            className,
            stackGap = 20,
            columnGap = 85,
            scaleFactor = 0.05,
            scrollDownDuration = 5,
            formationDuration = 1,
          }) {
            const initialDelayValue = 500;
            const loopPauseDurationValue = 100;
            const listResetSpringStiffness = 100;
            const listResetSpringDamping = 25;
            const itemResetSpringStiffness = 120;
            const itemResetSpringDamping = 20;
            const visibleItemsCountValue = 4;

            const [animationPhase, setAnimationPhase] = useState("idle");
            const listControls = useAnimationControls();
            const childrenArray = useMemo(
              () => React.Children.toArray(children),
              [children]
            );
            const listLength = childrenArray.length;
            const totalHeight = listLength * columnGap;

            useEffect(() => {
              let timer;
              if (animationPhase === "idle") {
                timer = setTimeout(
                  () => {
                    setAnimationPhase("forming_column");
                  },
                  animationPhase === "idle" ? loopPauseDurationValue : initialDelayValue
                );
              }
              return () => clearTimeout(timer);
            }, [animationPhase, loopPauseDurationValue, initialDelayValue]);

            const handleFormationComplete = () => {
              if (animationPhase === "forming_column")
                setAnimationPhase("scrolling_down");
            };
            const handleScrollDownComplete = () => {
              if (animationPhase === "scrolling_down") setAnimationPhase("resetting");
            };
            const handleScrollUpComplete = () => {
              if (animationPhase === "resetting") setAnimationPhase("idle");
            };

            useEffect(() => {
              if (animationPhase === "scrolling_down") {
                listControls.start({
                  y: totalHeight,
                  transition: {
                    duration: scrollDownDuration,
                    ease: [0.4, 0, 0.2, 1],
                  },
                });
              } else if (animationPhase === "resetting") {
                listControls.start({
                  y: 0,
                  transition: {
                    type: "spring",
                    stiffness: listResetSpringStiffness,
                    damping: listResetSpringDamping,
                  },
                });
              } else {
                listControls.set({ y: 0 });
              }
            }, [
              animationPhase,
              listControls,
              totalHeight,
              scrollDownDuration,
              listResetSpringStiffness,
              listResetSpringDamping,
            ]);

            const handleListAnimationComplete = (definition) => {
              if (definition.y === totalHeight && animationPhase === "scrolling_down") {
                handleScrollDownComplete();
              } else if (definition.y === 0 && animationPhase === "resetting") {
                handleScrollUpComplete();
              }
            };

            return (
              <motion.div
                className={cn("relative w-full h-full flex items-center", className)}
                initial={{ y: 0 }}
                animate={listControls}
                onAnimationComplete={handleListAnimationComplete}
              >
                <AnimatePresence>
                  {childrenArray.map((child, index) => (
                    <InternalAnimatedListItem
                      key={index}
                      index={index}
                      listLength={listLength}
                      animationPhase={animationPhase}
                      onFormationComplete={
                        index === listLength - 1 ? handleFormationComplete : undefined
                      }
                      stackGap={stackGap}
                      columnGap={columnGap}
                      scaleFactor={scaleFactor}
                      formationDuration={formationDuration}
                      visibleItemsCount={visibleItemsCountValue}
                      resetSpringStiffness={itemResetSpringStiffness}
                      resetSpringDamping={itemResetSpringDamping}
                    >
                      {child}
                    </InternalAnimatedListItem>
                  ))}
                </AnimatePresence>
              </motion.div>
            );
          }
          ```
        </Highlighter>
        <Highlighter slot="typescript">
          ```tsx
          "use client";

          import React, { useMemo, useState, useEffect } from "react";
          import { motion, AnimatePresence, useAnimationControls } from "framer-motion";
          import { cn } from "@/lib/utils";

          type AnimationPhase =
            | "idle"
            | "forming_column"
            | "scrolling_down"
            | "resetting";

          type AnimatedListProps = {
            children: React.ReactNode;
            className?: string;
            stackGap?: number;
            columnGap?: number;
            scaleFactor?: number;
            scrollDownDuration?: number;
            formationDuration?: number;
          };

          type AnimatedListItemProps = {
            children: React.ReactNode;
            className?: string;
            index: number;
            listLength: number;
            stackGap?: number;
            columnGap?: number;
            scaleFactor?: number;
          };

          function InternalAnimatedListItem({
            children,
            className,
            index,
            listLength,
            animationPhase,
            onFormationComplete,
            stackGap = 10,
            columnGap = 100,
            scaleFactor = 0.1,
            formationDuration = 1,
            visibleItemsCount = 4,
            resetSpringStiffness = 120,
            resetSpringDamping = 20,
          }: AnimatedListItemProps & {
            animationPhase: AnimationPhase;
            onFormationComplete?: () => void;
            formationDuration: number;
            visibleItemsCount: number;
            resetSpringStiffness: number;
            resetSpringDamping: number;
          }) {
            const reverseIndex = listLength - 1 - index;
            const isVisible = reverseIndex < visibleItemsCount;
            const lastItemOffset = (listLength - 1) * columnGap;
            const isLastItem = index === listLength - 1;

            const itemVariants = {
              initial: {
                scale: 1 + index * scaleFactor,
                y: reverseIndex * stackGap,
                opacity: isVisible ? 1 : 0,
              },
              column: {
                scale: 1,
                y: index * columnGap - lastItemOffset,
                opacity: 1,
              },
            };

            const target =
              animationPhase === "idle" || animationPhase === "resetting"
                ? "initial"
                : "column";

            const getTransition = () => {
              if (animationPhase === "resetting") {
                return {
                  type: "spring",
                  stiffness: resetSpringStiffness,
                  damping: resetSpringDamping,
                };
              } else {
                return { duration: formationDuration, ease: [0.4, 0, 0.2, 1] };
              }
            };

            const handleAnimationComplete = (definition: string) => {
              if (
                isLastItem &&
                definition === "column" &&
                animationPhase === "forming_column"
              ) {
                onFormationComplete?.();
              }
            };

            return (
              <motion.div
                key={index}
                className={cn("w-full flex justify-center absolute inset-x-0", className)}
                variants={itemVariants}
                initial="initial"
                animate={target}
                transition={getTransition()}
                onAnimationComplete={handleAnimationComplete}
              >
                {children}
              </motion.div>
            );
          }

          export function AnimatedList({
            children,
            className,
            stackGap = 20,
            columnGap = 85,
            scaleFactor = 0.05,
            scrollDownDuration = 5,
            formationDuration = 1,
          }: AnimatedListProps) {
            const initialDelayValue = 500;
            const loopPauseDurationValue = 100;
            const listResetSpringStiffness = 100;
            const listResetSpringDamping = 25;
            const itemResetSpringStiffness = 120;
            const itemResetSpringDamping = 20;
            const visibleItemsCountValue = 4;

            const [animationPhase, setAnimationPhase] = useState<AnimationPhase>("idle");
            const listControls = useAnimationControls();
            const childrenArray = useMemo(
              () => React.Children.toArray(children),
              [children]
            );
            const listLength = childrenArray.length;
            const totalHeight = listLength * columnGap;

            useEffect(() => {
              let timer: NodeJS.Timeout;
              if (animationPhase === "idle") {
                timer = setTimeout(
                  () => {
                    setAnimationPhase("forming_column");
                  },
                  animationPhase === "idle" ? loopPauseDurationValue : initialDelayValue
                );
              }
              return () => clearTimeout(timer);
            }, [animationPhase, loopPauseDurationValue, initialDelayValue]);

            const handleFormationComplete = () => {
              if (animationPhase === "forming_column")
                setAnimationPhase("scrolling_down");
            };
            const handleScrollDownComplete = () => {
              if (animationPhase === "scrolling_down") setAnimationPhase("resetting");
            };
            const handleScrollUpComplete = () => {
              if (animationPhase === "resetting") setAnimationPhase("idle");
            };

            useEffect(() => {
              if (animationPhase === "scrolling_down") {
                listControls.start({
                  y: totalHeight,
                  transition: {
                    duration: scrollDownDuration,
                    ease: [0.4, 0, 0.2, 1],
                  },
                });
              } else if (animationPhase === "resetting") {
                listControls.start({
                  y: 0,
                  transition: {
                    type: "spring",
                    stiffness: listResetSpringStiffness,
                    damping: listResetSpringDamping,
                  },
                });
              } else {
                listControls.set({ y: 0 });
              }
            }, [
              animationPhase,
              listControls,
              totalHeight,
              scrollDownDuration,
              listResetSpringStiffness,
              listResetSpringDamping,
            ]);

            const handleListAnimationComplete = (definition: { y?: number }) => {
              if (definition.y === totalHeight && animationPhase === "scrolling_down") {
                handleScrollDownComplete();
              } else if (definition.y === 0 && animationPhase === "resetting") {
                handleScrollUpComplete();
              }
            };

            return (
              <motion.div
                className={cn("relative w-full h-full flex items-center", className)}
                initial={{ y: 0 }}
                animate={listControls}
                onAnimationComplete={handleListAnimationComplete}
              >
                <AnimatePresence>
                  {childrenArray.map((child, index) => (
                    <InternalAnimatedListItem
                      key={index}
                      index={index}
                      listLength={listLength}
                      animationPhase={animationPhase}
                      onFormationComplete={
                        index === listLength - 1 ? handleFormationComplete : undefined
                      }
                      stackGap={stackGap}
                      columnGap={columnGap}
                      scaleFactor={scaleFactor}
                      formationDuration={formationDuration}
                      visibleItemsCount={visibleItemsCountValue}
                      resetSpringStiffness={itemResetSpringStiffness}
                      resetSpringDamping={itemResetSpringDamping}
                    >
                      {child}
                    </InternalAnimatedListItem>
                  ))}
                </AnimatePresence>
              </motion.div>
            );
          }
          ```
        </Highlighter>
      </ComponentSource>

      <Step>Update the import paths to match your project setup.</Step>
    </Steps>
  </TabsContent>
</Tabs>

## Usage

```tsx
import { AnimatedList } from "@/components/ui/animated-list";
```

```tsx
<AnimatedList>
  {notifications.map((notification) => (
    <Notification key={notification.id} notification={notification} />
  ))}
</AnimatedList>
```

## Props

<Kbd>animated-list</Kbd> props.

| Prop | Type | Description | Default |
|------|------|-------------|---------|
| children | <Kbd>React.ReactNode</Kbd> | The content to be displayed in the animated list. | - |
| className | <Kbd>string</Kbd> | Additional CSS classes for custom styling. | - |
| stackGap | <Kbd>number</Kbd> | Vertical spacing between items in the initial stack formation. | 20 |
| columnGap | <Kbd>number</Kbd> | Vertical spacing between items in the column formation. | 85 |
| scaleFactor | <Kbd>number</Kbd> | Factor used to scale items in the initial stack formation. | 0.05 |
| scrollDownDuration | <Kbd>number</Kbd> | Duration of the scroll down animation in seconds. | 5 |
| formationDuration | <Kbd>number</Kbd> | Duration of the column formation animation in seconds. | 1 |

<Kbd>animated-list-item</Kbd> props.

| Prop | Type | Description | Default |
|------|------|-------------|---------|
| children | <Kbd>React.ReactNode</Kbd> | The content of the list item. | - |
| className | <Kbd>string</Kbd> | Additional CSS classes for custom styling. | - |
| index | <Kbd>number</Kbd> | The position of the item in the list. | - |
| listLength | <Kbd>number</Kbd> | The total number of items in the list. | - |
| stackGap | <Kbd>number</Kbd> | Vertical spacing between items in the initial stack formation. | 10 |
| columnGap | <Kbd>number</Kbd> | Vertical spacing between items in the column formation. | 100 |
| scaleFactor | <Kbd>number</Kbd> | Factor used to scale items in the initial stack formation. | 0.1 |
| formationDuration | <Kbd>number</Kbd> | Duration of the column formation animation in seconds. | 1 |
| visibleItemsCount | <Kbd>number</Kbd> | Number of items visible in the initial stack. | 4 |
| resetSpringStiffness | <Kbd>number</Kbd> | Spring animation stiffness for reset animation. | 120 |
| resetSpringDamping | <Kbd>number</Kbd> | Spring animation damping for reset animation. | 20 |
