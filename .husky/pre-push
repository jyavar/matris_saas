#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ›¡ï¸ STRATO Pre-push Hook - ValidaciÃ³n final antes de subir..."
pnpm run strato:guard:strict

echo "ğŸš€ STRATO Pre-push Hook - Validaciones completas (warnings permitidos)..."

# 1. Build completo (solo warnings)
echo "ğŸ—ï¸ Verificando build completo..."
pnpm build || echo "âš ï¸  Build encontrÃ³ problemas (continuando...)"

# 2. Tests unitarios (solo warnings)
echo "ğŸ§ª Ejecutando tests unitarios..."
pnpm test || echo "âš ï¸  Tests encontraron problemas (continuando...)"

# 3. Type checking completo (solo warnings)
echo "ğŸ”§ Verificando tipos TypeScript..."
pnpm typecheck || echo "âš ï¸  Type checking encontrÃ³ problemas (continuando...)"

# 4. Lint completo (solo warnings)
echo "ğŸ” Ejecutando lint completo..."
pnpm lint || echo "âš ï¸  Lint encontrÃ³ problemas (continuando...)"

echo "âœ… Pre-push hook completado (warnings permitidos)!" 