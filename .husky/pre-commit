#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸš€ STRATO Pre-commit Hook - Validando calidad del cÃ³digo..."

# 1. Linting y formato automÃ¡tico (solo warnings)
echo "ğŸ” Ejecutando lint-staged..."
pnpm lint-staged || echo "âš ï¸  Linting encontrÃ³ problemas (continuando...)"

# 2. Validaciones personalizadas (solo warnings)
echo "ğŸ”§ Ejecutando validaciones personalizadas..."
pnpm tsx scripts/pre-commit-validation.ts || echo "âš ï¸  Validaciones encontraron problemas (continuando...)"

# 3. Context watchdog (solo warnings)
echo "ğŸ‘ï¸ Ejecutando context watchdog..."
pnpm tsx scripts/agents/context-watchdog.ts || echo "âš ï¸  Context watchdog encontrÃ³ problemas (continuando...)"

echo "âœ… Pre-commit hook completado (warnings permitidos)!"
